adding test files and rm code to commit.c