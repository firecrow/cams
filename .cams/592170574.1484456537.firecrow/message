working sync with new structure