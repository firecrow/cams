adding new style of arg parsing to init, some work on run_cmd