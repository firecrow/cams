drafting preliminary version of piping/subprocess util function