moving commit flow internal functions in line with header files