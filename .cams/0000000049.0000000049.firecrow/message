refactored range_list, simplified by reading from index