fix for subp not considering where stdout might not be defined