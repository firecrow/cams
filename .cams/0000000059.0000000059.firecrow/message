first draft of commit code