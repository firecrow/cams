not working, sketched out some diff functionality and fmtmem