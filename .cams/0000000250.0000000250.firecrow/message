breaking out push functinality into seperate file