updating generate_cindex to use full struct in generate_cindex