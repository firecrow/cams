prototype of async reading from subp