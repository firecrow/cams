working sync.c push functionality